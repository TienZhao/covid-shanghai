<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>2022ä¸Šæµ·ç–«æƒ…å›é¡¾</title>
    <link rel="stylesheet" href="https://a.amap.com/jsapi_demos/static/demo-center/css/demo-center.css" />
    <style>
        html,
        body,
        #container {
            height: 100%;
            width: 100%;
        }
        /* åœ°å›¾ä¸­çš„ä¿¡æ¯æ ‡ç­¾ */
        .amap-marker-label {
            position: absolute;
            top: 3px;
            left: 30px;
            color: black;
            padding: 4px 10px;
            box-shadow: 1px 1px 1px rgba(10, 10, 10, .2);
            white-space: nowrap;
            font-size: 12px;
            background-color: #FFFFFF;
            opacity: 0.8;  
            border-radius: 3px;
            border-color: #BBBBBB;
            border-width: 0.5px;
            border-radius: 5px;
        }
        /* æ•´ä¸ªå·¦ä¸Šè§’åŒºåŸŸçš„è„šæ‰‹æ¶ */
        #result{
            position: fixed;
            top: 10px;
            left: 10px;
            width: 350px;
            height: auto;
            /*line-height: 30px;*/
            text-align: left;
            background: transparent;
            border-radius: 7px;
            z-index: 99;
            /*background-color: white;*/
            font-size: small;
        }
        #result ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        #result ul li{
            color: #000;
            padding: 7px;
            font-size: 14px;
            text-align: justify;
            border-bottom: 1px solid #D3D3D3
        }
        #result>div:last-child{
            display: flex;
            align-items: center;
        }
        /* æŒ‰é’®ä¸‹æ–¹çš„æ–‡æœ¬æ¡† */
        #noticeDiv{
            margin-top: 10px;
            width: 260px;
            height: auto;
            background: transparent;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 1px 1px 1px rgba(10, 10, 10, .2);
        }
        .noticeText{ 
            margin: 0px;
            width: 100%;
            padding: 10px;
            display: flex;
            flex-direction: column;
            background: #FFFFFF;  
            opacity: 0.8;  
            text-align: left; 
            color: black;   
            font-size: 12px; 
            line-height: 20px;         
        }
        /* æ”¯æŒæŒ‰é’®çš„å¼¹å‡ºæ–‡æœ¬æ¡† */
        #donateDiv{
            margin-top: 10px;
            width: 240px;
            height: 550px;
            background: transparent;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }
        .donateText{
            margin: 0px;
            width: 100%;
            padding: 10px;
            display: flex;
            flex-direction: column;
            background: #FFD700;    
            text-align: center;   
            line-height: 20px;
            font-size: 16px;
            color: black;     
        }
        /* æŒ‰é’®æ  */
        #buttonRow{
            width: 100%;
            background: transparent;
            display: flex;
            flex-direction: row;
        }
        .btn{
            width: 80px;
            height: 35px;
            color: #000000;
            border-color: #BBBBBB;
            font-size: 14px;
            border-width: 0.5px;
            border-radius: 5px;
            background: #FFD700;
            box-shadow: none;
            white-space: nowrap;
            overflow: hidden
        }
        .btn:hover{
            cursor: pointer;
        }
        .subbtn{
            margin-left: 10px;
            width: 60px;
            height: 35px;
            color: #000000;
            border-color: #BBBBBB;
            font-size: 14px;
            border-width: 0.5px;
            border-radius: 5px;
            background: #EEEEEE;
            box-shadow: none;
            white-space: nowrap;
            overflow: hidden
        }
        /* æ»‘åŠ¨è¾“å…¥æ  */
        .range-box{
            width: 260px;
            margin: 10px 0px 0px 0px;
        }
        /* background æ»‘é“æ ·å¼ */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 4px;
            background: #FFD700;
            box-shadow: 1px 1px 1px rgba(10, 10, 10, .2);
        }
        /* firefox - slider æ»‘å—æ ·å¼ */
        input[type=range]::-moz-range-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            background: #EEEEEE;
            border-radius: 50%;
            border: none;
            box-shadow: 1px 1px 1px rgba(10, 10, 10, .2);
        }
        /* chrome - slider æ»‘å—æ ·å¼ */
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            background: #EEEEEE;
            border-radius: 50%;
            border: none;
            box-shadow: 1px 1px 1px rgba(10, 10, 10, .2);
        }        
        /* æ»‘å—å›¾ä¾‹æ ·å¼ */
        #range-box-legend{
            margin: 0px 0px 0px 0px;
            width: 220px;
            text-align: center;
            font-size: 12px;
            color: black;
            display: flex;
            justify-content: space-between;
        }
        .legend-label{
            -moz-user-select: -moz-none;
            -khtml-user-select: none;
            -webkit-user-select: none;
            -o-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body>
    <div id='container'></div>
    <div id='result' width='100%'>
        <div id='buttonRow'>
            <button onclick='btnPlay()' class='btn' id='btnPlay'>æ»šåŠ¨æ’­æ”¾</button>
            <button onclick='btnDonate()' class='subbtn' id='btnDonate'>æ”¯æŒ</button>
            <button onclick='btnShare()' class='subbtn' id='btnShare'>åˆ†äº«</button>
            <!-- <button onclick='btnPlay()' class='btn'>è¿è¡ŒğŸ˜·</button> -->
            <!-- <button onclick='btnDonate()' class='subbtn'>ğŸ™Œ</button> -->
            <!-- <button onclick='btnShare()' class='subbtn'>ğŸ”—</button> -->
        </div>
        <div id='noticeDiv'>
            <div class="noticeText" id="noticeText" >
                <!-- <span>å¬è¯´é¡¾æ‘çš„æ¨±èŠ±å¾ˆç¾</span> -->
                <!-- <span>å®ƒä¹Ÿåœ¨èµ›åšç©ºé—´ä¸ºä½ é™é™ç»½æ”¾</span> -->
                <span>2022å¹´3æœˆ6æ—¥æ–°å¢ç¡®è¯Šç—…ä¾‹<b>3</b>ä¾‹ï¼Œæ–°å¢æ— ç—‡çŠ¶æ„ŸæŸ“è€…<b>45</b>ä¾‹ã€‚</span>
            </div>            
        </div>
        <div id='donateDiv' style="display: none;">
            <!-- <div class='donateText'>
                <span><b>åœ¨è¿™ä¸ªèŒ«ç„¶çš„æ˜¥å¤©</b></span>
                <span><b>ç»™ç”Ÿæ´»ä¸€ç‚¹ç›¼å¤´</b></span>
                <span><b>3/30æ–°è½¦é—´çº¿ä¸Šå¼€æ”¾å¤œ</b></span>
                <span><b><a href="https://yoopay.cn/event/93875362">ç‚¹å‡»æŠ¥åï¼Œå…è´¹å‚ä¸</a></b></span>
            </div> -->
            <!-- <img src="https://tienzhao.github.io/covid-shanghai/images/event_0330.jpg" width="240"/> -->
            <div class='donateText'> 
                <!-- <span><b>â—ä¸€æœ¬æ­£ç»â—</b></span> -->
                <!-- <span>å±•ç¤ºçš„æ˜¯14å¤©é˜³æ€§åœ°å€</span> -->
                <!-- <span>ä¸ä»£è¡¨å°é—­åœ°åŒº</span> -->
                <!-- <span>æœ¬ç«™ä»…ä¾›æ•°æ®å¯è§†åŒ–å­¦ä¹ </span>                -->
                <!-- <span>å®Œå…¨ä¸ä¿è¯æ•°æ®çœŸå®å‡†ç¡®</span> -->
                <!-- <span>çœ‹çœ‹åˆ«çš„ï¼š</span> -->
                <!-- <span><a href="voice20220402.html">ã€ç–¾æ§ç”µè¯ã€‘</a>ã€<a href="voice20220409.html">ã€ç–¾æ§æ•²é—¨ã€‘</a>ã€<a href="video20220422.html">ã€å››æœˆä¹‹å£°ã€‘</a></span> -->
                <!-- <span>æœ¬é¡µé¢ä»…ä¾›æ•°æ®å¯è§†åŒ–å­¦ä¹ ï¼Œå®Œå…¨ä¸ä¿è¯æ•°æ®çœŸå®å‡†ç¡®ï¼Œæ•°æ®æºäºä¸Šæµ·å‘å¸ƒã€‚å¦‚æœæ‚¨å‘ç°äº†é”™è¯¯å’Œå»ºè®®ï¼Œæ¬¢è¿<a href="https://wj.qq.com/s2/9880542/aac8/">åé¦ˆ</a>ï¼</span> -->
                <span><a href="https://github.com/TienZhao/covid-shanghai">Github Repo</a> | <a href="https://wj.qq.com/s2/9880542/aac8/">æ„è§åé¦ˆ</a></span>
                <span><b>æ‰“èµåå—</b></span>
                <span><b>ç»™ä½œè€…æŠ•å–‚é¸¡è…¿ï¼</b></span>
                <!-- <span><b>Donate ï¿¥10</b></span>
                <span><b>Power our server!</b></span> -->
                <!-- <span><a href="https://github.com/TienZhao/covid-shanghai">Github Repo</a> | <a href="https://wj.qq.com/s2/9880542/aac8/">æ„è§åé¦ˆ</a></span> -->
            </div>
            <!-- <img src="images/donate2.jpg" width="326"/> -->
            <img src="https://tienzhao.github.io/covid-shanghai/images/donation2.jpg" width="240"/>

            <div class='donateText'>                
                <span><b>ç‰¹åˆ«æ„Ÿè°¢</b></span>
                <span>è¿™åº§åŸå¸‚æ‰€æœ‰çš„</span>
                <span>åŒ»æŠ¤äººå‘˜å’Œé˜²ç–«äººå‘˜</span>
                <span>ä»¥åŠ</span>
                <span>æ–°è½¦é—´åˆ›å®¢ç©ºé—´ã€</span>
                <span>@lcb931023ã€@Erickusã€</span>
                <span>**å¿ã€**æ˜ã€**å®‡ã€*ç‘¶ã€*é–ã€*å¥•ã€*éƒ‘ã€*æ¤¿ã€*çº¢ã€**æ€¡ã€**é˜³ã€*æ‚¦ã€**å–»ã€**å½¤ã€**è¶Šã€**ä¾ã€**å˜‰ã€*è¨€ã€**æ¸…ã€**ä¸œã€**æ¬£ã€A*yã€*ğŸ’ã€*æ˜‚ã€*å¼ºã€*Mã€*é¢–ã€**æ–Œã€L*sã€E*iã€S*eã€*ğ™®ã€B*gã€**è±ªã€**è¶…ã€**æ·ã€**å¥ã€*ç»¢ã€*é”Ÿã€*åã€*å…´ã€*æ«ã€*è²ã€*æ ¼ã€*ğŸ’ã€*å¦™ã€**é¹ã€**æ•ã€**æ…§ã€*ğŸ¡ã€*eã€*å­ã€*å§ã€*æ­ã€**æ¶µã€**ä¹‚ã€**æ°ã€*å‡¯ã€*ç‘¾ã€*èµ“ã€*å…°ã€*æ¬£ã€*ç¾½ã€*è¹ã€*æ«ã€*ï¼‰ã€*åˆšã€*å‡¯ã€**ä¸œã€*æ¶›ã€**èµŸã€**å—ã€**é¾™ã€**é€¸ã€*å•ã€T*mã€*è™¹ã€*é£ã€**èŠ¬ã€**æ˜Šã€*æƒã€s*lã€*å¼ºã€*å¤©ç­‰æœ‹å‹ä»¬</span>
                <span><b>å¯¹ç‚¸é¸¡æœåŠ¡å™¨çš„æ”¯æŒï¼</b></span>
                <span>è¿˜è¦æ„Ÿè°¢</span>
                <span>ä¸Šæµ·å¥‰è´¤ã€ä¸Šæµ·å¾æ±‡ã€ä¸Šæµ·é•¿å®ã€æµ¦ä¸œå‘å¸ƒã€ä¸Šæµ·é™å®‰ã€ä¸Šæµ·å˜‰å®šã€ä¸Šæµ·è™¹å£ã€ä¸Šæµ·é»„æµ¦ã€ä¸Šæµ·æ¾æ±Ÿã€ä¸Šæµ·æ™®é™€ã€ié‡‘å±±ã€ä»Šæ—¥é—µè¡Œã€ä¸Šæµ·æ¨æµ¦ã€ä¸Šæµ·å´‡æ˜ã€ç»¿è‰²é’æµ¦ã€ä¸Šæµ·å®å±±å¾®ä¿¡å…¬ä¼—å¹³å°æä¾›æ•°æ®æ”¯æŒï¼</span>
                <span><b>æˆ‘ä»¬â¤ï¸ä¸Šæµ·ï¼</b></span>
            </div>
        </div>
        <!-- æ»‘å— -->
        <div class="range-box">
            <input type="range" id="dateRange" min="0" max="109" step="1" value="0" oninput="sliderChange(event)" onchange="sliderChange(event)" >
        </div>
        <div id="range-box-legend">
            <div class="legend-label">ä¸‰æœˆ</div>
            <div class="legend-label">å››æœˆ</div>
            <div class="legend-label">äº”æœˆ</div>
            <div class="legend-label">å…­æœˆ</div>
        </div>
    </div>
    <!-- æµé‡ç»Ÿè®¡ -->
    <script async src="https://static.getclicky.com/101358038.js"></script>
    <noscript><img alt="Clicky" width="1" height="1" src="https://in.getclicky.com/101358038ns.gif" /></noscript>
    <script type="text/javascript">
        window._AMapSecurityConfig = {
            securityJsCode:'44947b774bfbf1c390bc98539582d54b',
        }
    </script>
    <script type="text/javascript"
        src="https://webapi.amap.com/maps?v=1.4.15&key=3c7d273d58c66c01fb9549449af5684e&plugin=AMap.Geocoder"></script>
    <!-- æ•°æ®JS -->
    <script type="text/javascript" src='positives_new.js'></script>
    <script type="text/javascript" src='stats.js'></script>
    <!-- é¡µé¢JS -->
    <script type="text/javascript">
        // åœ°å›¾åˆå§‹åŒ–
        var map = new AMap.Map("container", {
            resizeEnable: true,
            center: [121.5, 31.25],
            zoom: 11
        });
        map.on('zoomend', mapZoomend);
        var zoom = map.getZoom();

        // æ”¯æŒæŒ‰é’®äº‹ä»¶ï¼šå¼¹å‡º/éšè—æ–‡æœ¬æ¡†
        function btnDonate(){
            let noticeDiv = document.getElementById('noticeDiv');
            let donateDiv = document.getElementById('donateDiv');
            noticeDiv.style["display"] = noticeDiv.style["display"] == 'none'? 'flex' : 'none';
            donateDiv.style["display"] = noticeDiv.style["display"] == 'none'? 'flex' : 'none';
            let btnDonate = document.getElementById('btnDonate');
            btnDonate.innerHTML = noticeDiv.style["display"] == 'none'? 'éšè—' : 'æ”¯æŒ';
        }
        
        //åˆ†äº«æŒ‰é’®äº‹ä»¶ï¼šé“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿
        function btnShare(){
            let transfer = document.createElement('input');
            document.body.appendChild(transfer);
            transfer.value = "ä¸Šæµ·ç–«æƒ…åœ°å›¾ \nhttps://tienzhao.github.io/covid-shanghai/index.html?from=share";
            transfer.focus();
            transfer.select();
            if (document.execCommand('copy')) {
                document.execCommand('copy');
                alert("å¤åˆ¶æˆåŠŸï¼Œèµ¶ç´§å‘ç»™å¥½å‹å§ï¼");
            }
            transfer.blur();
            document.body.removeChild(transfer);
        }
        
        // æ’­æ”¾æŒ‰é’®äº‹ä»¶ï¼šæŒ‰ç…§æ—¥æœŸæ»šåŠ¨æ’­æ”¾æ¯æ—¥æ–°å¢ç—…ä¾‹åœ°å€ï¼ŒåŒæ—¶è®¾ç½®æ»‘å—çš„å€¼
        var playing = false;
        var interval;
        function btnPlay(){
            let btnPlay = document.getElementById('btnPlay');
            if (!playing){
                playing = true;
                if(btnPlay.innerHTML == 'æ»šåŠ¨æ’­æ”¾'){
                    btnPlay.innerHTML = 'åœæ­¢æ’­æ”¾';
                }
                interval = setInterval(function(){ 
                    //this code runs every second 
                    let dateRange = document.getElementById("dateRange");
                    currentValue = parseInt(dateRange.value)
                    maxValue = parseInt(dateRange.max)
                    if (currentValue < maxValue) {
                        dateRange.value = currentValue + 1;
                        sliderChange();
                        // console.log(dateRange.value, dateRange.max)
                    } else {
                        dateRange.value = 0;
                        sliderChange();
                        // console.log(dateRange.value, dateRange.max)
                    }
                }, 800);
            } else {
                playing = false;
                if(btnPlay.innerHTML == 'åœæ­¢æ’­æ”¾'){
                    btnPlay.innerHTML = 'æ»šåŠ¨æ’­æ”¾';
                }
                clearInterval(interval);
            }            
        }

        // æ»‘å—äº‹ä»¶ï¼šæ»‘åŠ¨æ»‘å—æ—¶æ›´æ–°åœ°å›¾å’Œç»Ÿè®¡æ•°æ®
        function sliderChange(){
            // ä»æ»‘å—ä¸­è·å–å€¼
            var dateRange = document.getElementById("dateRange");
            var deltaDays = dateRange.value;

            // è®¡ç®—æ»‘å—å¯¹åº”çš„"YYYYMMDD"æ—¥æœŸ
            let date = new Date('2022-03-06');
            date.setDate(date.getDate() + parseInt(deltaDays));
            sliderDate = date.toISOString().substring(0, 4) + date.toISOString().substring(5, 7) + date.toISOString().substring(8, 10);
            console.log(deltaDays, date);

            // å°†æ—¥æœŸå’Œç»Ÿè®¡æ•°æ®æ›´æ–°åˆ°ä¿¡æ¯æ 
            let month = parseInt(sliderDate.substring(4, 6));
            let day = parseInt(sliderDate.substring(6, 8));
            let new_patient = stats[sliderDate]['new_patient'];
            let new_asymptom = stats[sliderDate]['new_asymptom'];
            let new_patient_from_asymptom = stats[sliderDate]['new_patient_from_asymptom'];
            let text = '<span>2022å¹´' + month + 'æœˆ' + day + 'æ—¥æ–°å¢ç¡®è¯Šç—…ä¾‹<b>' + new_patient + '</b>ä¾‹ï¼Œ'
            if (new_patient_from_asymptom){
                text += 'åŒ…å«' + new_patient_from_asymptom + 'ä¾‹æ—¢å¾€æ— ç—‡çŠ¶æ„ŸæŸ“è€…è½¬å½’ï¼Œ';
            }
            text += 'æ–°å¢æ— ç—‡çŠ¶æ„ŸæŸ“è€…<b>' + new_asymptom + '</b>ä¾‹ã€‚</span>';
            let noticeText = document.getElementById('noticeText');
            noticeText.innerHTML = text;

            // ä½¿ç”¨Amapæµ·é‡ç‚¹åœ¨åœ°å›¾æ ‡è®°å½“æ—¥é˜³æ€§ç—…ä¾‹åœ°å€
            mass.clear();
            mass.setData(positives[sliderDate]);
            var marker = new AMap.Marker({content: ' ', map: map});
            mass.setMap(map);
        }

        // å®¢æˆ·ç«¯å®šä½æ§ä»¶
        AMap.plugin('AMap.Geolocation', function() {
            var geolocation = new AMap.Geolocation({
                enableHighAccuracy: true,               //ä½¿ç”¨é«˜ç²¾åº¦å®šä½
                buttonPosition:'LT',                    //å®šä½æŒ‰é’®çš„åœé ä½ç½®
                buttonOffset: new AMap.Pixel(240, 10),  //å®šä½æŒ‰é’®ä¸è®¾ç½®çš„åœé ä½ç½®çš„åç§»é‡
                zoomToAccuracy: true,                   //å®šä½æˆåŠŸåæ˜¯å¦è‡ªåŠ¨è°ƒæ•´åœ°å›¾è§†é‡åˆ°å®šä½ç‚¹
            });
            map.addControl(geolocation);        
        });

        // åˆå§‹åŒ–é¡µé¢ä¿¡æ¯
        var addressAllow = true;
        var addressOnDisplay = false;
        var sliderDate = "20220306";
        // åˆå§‹åŒ–æµ·é‡ç‚¹
        var massData = positives[sliderDate]
        var style = [{
            url: 'images/mask.png',
            anchor: new AMap.Pixel(9, 9),
            size: new AMap.Size(17, 17)
        }];
        var mass = new AMap.MassMarks(massData, {
                opacity: 1,
                zIndex: 111,
                cursor: 'pointer',
                style: style
            });
        
        // è®¾ç½®åœ°å›¾ä¸Šçš„ä½ç½®ä¿¡æ¯æ ‡ç­¾ï¼Œç‚¹å‡»æ˜¾ç¤º
        var marker = new AMap.Marker({content: ' ', map: map});
        mass.on('mouseover', function (e) {
            marker.setPosition(e.data.lnglat);
            marker.setLabel({content: e.data.name})
        });
        mass.on('touchstart', function (e) {
            marker.setPosition(e.data.lnglat);
            marker.setLabel({content: e.data.name})
        });

        mass.setMap(map);

        // ç›‘å¬é¼ æ ‡æ»šè½®ç»“æŸäº‹ä»¶
        function mapZoomend(){
            zoom = map.getZoom()
            let markerElements = document.getElementsByClassName("marker");
            if (zoom < 16 && !addressAllow){
                if (addressOnDisplay){
                    addressOnDisplay = false; 
                    for(let m = 0; m < markerElements.length; m++) {
                        markerElements[m].style["display"] = "none";
                    }
                }
            } else if (zoom >= 16 && addressAllow) {
                if (!addressOnDisplay){
                    addressOnDisplay = true; 
                    for(let m = 0; m < markerElements.length; m++) {
                        markerElements[m].style["display"] = "block";
                    }
                }                
            }
        }

        // ä¸ºäº†ç½‘ç»œå®‰å…¨ï¼Œé¿å…APIæ»¥ç”¨
        // å‚è€ƒï¼šhttps://www.cnblogs.com/moluy/p/14085173.html
        function destroyMap() {
            console.log('ä¸ºäº†é¿å…APIæ»¥ç”¨ï¼Œæœ¬ç½‘é¡µç¦æ­¢æ§åˆ¶å°è°ƒè¯•ã€‚\nä½ ä¹Ÿä¼šå¼€å‘ï¼Ÿä¸€èµ·ä¸ºä¸Šæµ·åšè´¡çŒ®ï¼\nhttps://github.com/TienZhao/covid-shanghai/')
            map && map.destroy();
            AMap = null;
        }
        //ç¦æ­¢F12é”®ç›˜äº‹ä»¶
        document.addEventListener('keydown', function(event){
           return 123 != event.keyCode || (event.returnValue = false)
        });
        //ç¦æ­¢å³é”®ã€é€‰æ‹©ã€å¤åˆ¶
        document.addEventListener('contextmenu', function(event){
           return event.returnValue = false
        })
        //æ£€æµ‹æ§åˆ¶å°é«˜åº¦å˜åŒ–
        function resize(){
            var threshold = 200;
            var widthThreshold = window.outerWidth - window.innerWidth > threshold;
            var heightThreshold = window.outerHeight - window.innerHeight > threshold;
            if(widthThreshold || heightThreshold){
                destroyMap();
            }
        }
        window.addEventListener('resize', resize);
        resize()
        // //ç›‘å¬toStringæ–¹æ³•å’Œdomå±æ€§
        // var observerConsole = {
        //     openCallback: function(){
        //         destroyMap();
        //         try {
        //             window.open("about:blank", "_self")
        //         } catch(e) {
        //             var btn = document.createElement("button");
        //             btn.onclick = function() {
        //                 window.open("about:blank", "_self")
        //             }
        //             btn.click()
        //         }
        //     },
        //     observer: function(){
        //         //è¿™é‡Œä½¿ç”¨domå…ƒç´ ï¼Œåœ¨æ‰“å¼€æ§åˆ¶å°æ—¶æ‰ä¼šè®¡ç®—id
        //         var dom = document.createElement("div"), that = this;
        //         Object.defineProperty(dom, "id", {
        //             get: function(){
        //                 that.openCallback()
        //             }
        //         })
        //         //ieä¸æ”¯æŒconsole.table
        //         //console.info(dom);
        //         console.log(dom);
        //     },
        //     observerF: function(){
        //         var obj = Object.create(null), t = Date.now(), that = this;
        //         Object.defineProperty(obj, "a", {
        //             get: function() {
        //                 if(Date.now() - t > 100){
        //                     that.openCallback()
        //                 }
        //             }
        //         })
        //         setInterval(function(){
        //             t = Date.now();
        //             (function(){})["constructor"]("debugger")();//debugger;
        //             console.log(obj.a);
        //         }, 200)
        //     },
        //     init: function(){
        //         var t = window.navigator.userAgent.toLowerCase();
        //         t.indexOf("firefox") >= 0 ? this.observerF() : this.observer();
        //     }
        // }
        // observerConsole.init();

//     </script>
// </body>
// </html>

